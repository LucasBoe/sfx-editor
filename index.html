<!doctype html>
<html lang="en" data-bs-theme="dark">
  <head>
    <link rel="stylesheet" href="/src/icons.css" />
    <link rel="stylesheet" href="/src/style.css" />
  </head>

  <body>
    <div class="container">
      <h1 class="mb-3">SFX Editor</h1>

      <div class="row d-flex gap-2 align-items-center flex-wrap mb-3">

          <input id="files" type="file" accept="audio/*" multiple class="visually-hidden" />

          <label for="files" class="col-md-auto btn btn-outline-secondary">
            <span class="icon-upload"></span>
          </label>

        <button id="render" class="col-md-auto btn btn-outline-primary">
            <span class="icon-download"></span>
        </button>
        
        <label class="col-md-auto master d-flex align-items-center gap-2 ms-auto mb-0">
          Master
          <input id="masterVol" type="range" min="-80" max="12" step="0.1" value="0" />
          <input id="masterDb" type="text" value="0.0" />
          <span class="dbSuffix">dB</span>
        </label>

        <button id="play" class="col-md-auto btn btn-primary">
            <span class="icon-play3"></span>
        </button>
        <button id="stop" class="col-md-auto btn btn-outline-secondary">
            <span class="icon-stop2"></span>
        </button>
        
        <label class="col zoom d-flex align-items-center gap-2 mb-0">
          <span class="small text-muted">Zoom Level</span>

          <button id="zoomOut" type="button" class="btn btn-outline-secondary btn-sm">
            <span class="icon-minus"></span>
          </button>

          <input id="zoom" type="range" min="0" max="1000" step="1" value="0" />

          <button id="zoomIn" type="button" class="btn btn-outline-secondary btn-sm">
            <span class="icon-plus"></span>
          </button>

          <span id="zoomVal">800</span> px/s
        </label>

        <button id="clear" class="col-md-auto btn btn-outline-danger">
            <span class="icon-bin"></span>
        </button>
      </div>
    </div>

    <div class="container-fluid">
      <div id="timelineShell">
        <div id="rulerBar">
          <div id="rulerViewport">
            <canvas id="rulerCanvas" height="28"></canvas>
          </div>
        </div>

        <div id="layers">
          <div id="tracks"></div>

          <template id="layerTemplate">
            <div class="layer">
              <div class="layerControls">
                <input
                  class="small offset form-control form-control-sm"
                  type="number"
                  step="0.01"
                  min="0"
                  value="0"
                />

                <input class="vol" type="range" min="-80" max="12" step="0.1" value="0" />
                <input class="volDb" type="text" value="0.0" />
                <span class="dbSuffix">dB</span>
                <button type="button" class="btn btn-outline-danger btn-sm del" title="Delete layer">
                  <span class="icon-bin"></span>
                </button>

              </div>

              <div class="nameWrapper">
                <div class="name"></div>
              </div>

              <div class="track">
                <div class="clip">
                  <div class="wave"></div>
                </div>
              </div>
            </div>
          </template>
        </div>

        <div id="globalPlayhead" class="globalPlayhead"></div>
      </div>
    </div>

    <div id="loading" class="loading hidden" role="status" aria-live="polite">
      <div class="loadingPanel">
        <div class="spinner"></div>
        <div id="loadingText">Loading</div>
      </div>
    </div>

    <script type="module" src="/src/js/main.js"></script>
  </body>
</html>